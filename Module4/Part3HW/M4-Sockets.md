<table><tr><td> <em>Assignment: </em> IT114 - Sockets Part 1 - 3</td></tr>
<tr><td> <em>Student: </em> Fahad Ali(fa376)</td></tr>
<tr><td> <em>Generated: </em> 6/18/2022 9:11:31 PM</td></tr>
<tr><td> <em>Grading Link: </em> <a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IT114-450-M22/it114-sockets-part-1-3/grade/fa376" target="_blank">Grading</a></td></tr></table>
<table><tr><td> <em>Instructions: </em> <ol><li>Create a new branch for this assignment</li><li>Go through the socket lessons and get each part implemented (parts 1-3)</li><li>Create a new folder called Part3HW</li><li>Create an empty m4_submission.md file in Part3HW</li><li>Add/commit/push the branch</li><li>Create a pull request to main and keep it open</li><li>Copy the the Part3 code into this new folder</li><li>Git add/commit all of the sample code and the Part3HW code</li><li>Implement two of the following server-side activities for all connected clients (majority of the logic should be processed server-side and broadcasted to all clients if/when applicable)</li><ol><li>Simple number guesser where all clients can attempt to guess</li><ol><li>Hint: may want separate commands to start, stop, and guess (or starting lasts for x rounds then stops)</li><li>No need to implement complexities like strikes</li></ol><li>Coin toss command (random heads or tails)</li><li>Dice roller given a command and text format of "roll #d#" (i.e., roll 2d6)</li><li>Math game (server outputs a basic equation, first person to guess it right gets congradulated and a new equatiion is given)</li><ol><li>Hint: may want a separate start, stop, answer commands (or starting lasts for x rounds then stops)</li></ol><li>Private message (a client can send a message targetting another client where only the two can see the messages)</li><li>Message shuffler (randomizes the order of the characters of the given message)</li></ol><li>Fill in the below deliverables</li><li>Save and generated the markdown or markdown file</li><li>Update the m4_submission.md file in the Part3HW folder</li><li>Add/commit/push your changes</li><li>Merge the pull request</li><li>From the M4-Sockets branch, navigate to your m4_submission.md file on github and copy the link</li><li>Submit the direct link to Canvas</li></ol></td></tr></table>
<table><tr><td> <em>Deliverable 1: </em> Baseline </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="http://via.placeholder.com/400x120/009955/fff?text=Complete"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Add as many screenshots as necessary to show basic communication among 3 clients and 1 server</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/106360996/174461544-f13a4f8d-20c1-4d32-9f70-5653c7cc3deb.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>server and three clients are shown to receive the message<br></p>
</td></tr>
</table></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 2: </em> Feature Implementation 1 </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="http://via.placeholder.com/400x120/009955/fff?text=Complete"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> What feature did you pick? Briefly explain how you implemented it</td></tr>
<tr><td> <em>Response:</em> <p>The first feature i used was shuffle where the messages of the client<br>gets shuffled when the client types the command shuffle. Any messages onwards are<br>shuffled. When the client types shuffle exit, the code exits out of shuffling<br>and every messages returned by the server are normal again. I created a<br>function called shuffle, which shuffles the word.&nbsp;<div><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; line-height:<br>19px; white-space: pre;"><div><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">String</span> shuffle(<span style="color:<br>#0000ff;">String</span> message) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">String</span> str = message;</div><div>&nbsp; &nbsp;<br>&nbsp; &nbsp; <span style="color: #0000ff;">String</span> shuffledmessage = <span style="color: #a31515;">&quot; &quot;</span>;</div><div>&nbsp; &nbsp; &nbsp;<br>&nbsp; <span style="color: #0000ff;">List</span>&lt;<span style="color: #0000ff;">String</span>&gt; characters = Arrays.asList(str.split(<span style="color: #a31515;">&quot;&quot;</span>));</div><div>&nbsp; &nbsp; &nbsp;<br>&nbsp; Collections.shuffle(characters);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">String</span> character &lt;span<br>style=&quot;color: #0000ff;&quot;&gt;:</span> characters) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; shuffledmessage += character;</div><div>&nbsp; &nbsp;<br>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">return</span> shuffledmessage;</div><div>&nbsp; &nbsp; }</div><div><span style="font-family:<br>Roboto, -apple-system, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; white-space: normal;">Then the words are processed<br>by default function called processcommand.</span><br></div><div><div style="line-height: 19px;"><div>&nbsp;<span style="color: #0000ff;">private</span> <span style="color: #0000ff;">boolean</span> processCommand(&lt;span<br>style=&quot;color: #0000ff;&quot;&gt;String</span> message, <span style="color: #0000ff;">long</span> clientId) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; System.out.println(<span style="color:<br>#a31515;">&quot;Checking command: &quot;</span> + message);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">if</span> (message.equalsIgnoreCase(<span style="color:<br>#a31515;">&quot;disconnect&quot;</span>)) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">Iterator</span>&lt;<span style="color: #0000ff;">ServerThread</span>&gt; it<br>= clients.iterator();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">while</span> (it.hasNext()) {</div><div>&nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">ServerThread</span> client = it.next();</div><div>&nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">if</span> (client.getId() == clientId) {</div><div>&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; it.remove();</div><div>&nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; disconnect(client);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">break</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>}</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;span<br>style=&quot;color: #0000ff;&quot;&gt;return</span> <span style="color: #0000ff;">true</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; } <span style="color: #0000ff;">else</span> &lt;span<br>style=&quot;color: #0000ff;&quot;&gt;if</span> (message.equalsIgnoreCase(<span style="color: #a31515;">&quot;shuffle&quot;</span>)) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color:<br>#008000;">// broadcast(shuffle(message), clientId);</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; shuffledStatus = <span style="color: #0000ff;">true</span>;</div><div>&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span>;</div><div>&nbsp; &nbsp; &nbsp;<br>&nbsp; } <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span> (message.equalsIgnoreCase(<span style="color: #a31515;">&quot;shuffle exit&quot;</span>)) {</div><div>&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; shuffledStatus = <span style="color: #0000ff;">false</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp;<br>} <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span> (message.equals(<span style="color: #a31515;">&quot;coinflip&quot;</span>)) {</div><div>&nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">boolean</span> coin = flipcoin();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; broadcast(coin<span style="color: #0000ff;">?</span><span style="color: #a31515;">&quot;heads&quot;</span><span style="color: #0000ff;">:</span> <span style="color: #a31515;">&quot;tails&quot;</span>, clientId);</div><div>&nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span>; </div><br><div>&nbsp; &nbsp; &nbsp;<br>&nbsp; } </div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span>;</div><div>&nbsp; &nbsp;<br>}</div><div>Afterwards, the message gets broadcast by a function called broadcast. </div><div><div style="line-height: 19px;"><div>&nbsp;&lt;span<br>style=&quot;color: #0000ff;&quot;&gt;protected</span> <span style="color: #0000ff;">synchronized</span> <span style="color: #0000ff;">void</span> broadcast(<span style="color: #0000ff;">String</span> message, &lt;span<br>style=&quot;color: #0000ff;&quot;&gt;long</span> id) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">if</span> (processCommand(message, id)) {</div><div>&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">return</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp;<br>&nbsp; &nbsp; message = String.format(<span style="color: #a31515;">&quot;User[%d]: %s&quot;</span>, id, message = !shuffledStatus &lt;span<br>style=&quot;color: #0000ff;&quot;&gt;?</span> message <span style="color: #0000ff;">:</span> shuffle(message));</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #008000;">//<br>message = String.format(&quot;User[%d]: %s&quot;, id, message = shuffledStatus ?</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &lt;span<br>style=&quot;color: #008000;&quot;&gt;// message: shuffle(message));</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #008000;">// let&#39;s temporarily use<br>the thread id as the client identifier to</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:<br>#008000;">// show in all client&#39;s chat. This isn&#39;t good practice since it&#39;s subject<br>to</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #008000;">// change as clients connect/disconnect</span></div><div>&nbsp; &nbsp; &nbsp;<br>&nbsp; <span style="color: #008000;">// end temp identifier</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #008000;">//<br>loop over clients and send out the message</span></div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:<br>#0000ff;">Iterator</span>&lt;<span style="color: #0000ff;">ServerThread</span>&gt; it = clients.iterator();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">while</span> (it.hasNext())<br>{</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">ServerThread</span> client = it.next();</div><div>&nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">boolean</span> wasSuccessful = client.send(message);</div><div>&nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; <span style="color: #0000ff;">if</span> (!wasSuccessful) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; System.out.println(String.format(<span style="color: #a31515;">&quot;Removing disconnected client[%s] from list&quot;</span>, client.getId()));</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; it.remove();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; broadcast(<span style="color:<br>#a31515;">&quot;Disconnected&quot;</span>, id);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp;<br>}</div>This broadcasts the command and when the word shuffled was typed and no<br>remaming messages were typed as shuffle exit. </div></div><div style="line-height: 19px;">So any messages in<br>between the two commands will get shuffled. </div></div></div></div></div><br></p><br></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add screenshot(s) showing the implemented feature working</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/106360996/174461634-5e6bc1cb-c3ee-4e10-85c2-d7147f25671c.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>Shuffled/Shuffle exit feature<br></p>
</td></tr>
</table></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 3: </em> Feature Implementation 2 </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="http://via.placeholder.com/400x120/009955/fff?text=Complete"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> What feature did you pick? Briefly explain how you implemented it</td></tr>
<tr><td> <em>Response:</em> <p>The second feature is called coin toss. Where I coin is toss and<br>the code writes to the clients console if is heads or tails. The<br>client must type coin toss for the command to activate.&nbsp;<div><div style="font-family: Consolas, &quot;Courier<br>New&quot;, monospace; white-space: pre;"><span style="color: rgb(0, 0, 255);">else</span> <span style="color: rgb(0, 0, 255);">if</span><br>(message.equals(<span style="color: rgb(163, 21, 21);">&quot;coinflip&quot;</span>)) {</div><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;">&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: rgb(0, 0, 255);">boolean</span> coin = flipcoin();</div>&lt;div<br>style=&quot;font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;&quot;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; broadcast(coin&lt;span<br>style=&quot;color: rgb(0, 0, 255);&quot;&gt;?</span><span style="color: rgb(163, 21, 21);">&quot;heads&quot;</span><span style="color: rgb(0, 0, 255);">:</span> &lt;span<br>style=&quot;color: rgb(163, 21, 21);&quot;&gt;&quot;tails&quot;</span>, clientId);</div><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;">&nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: rgb(0, 0, 255);">return</span> <span style="color: rgb(0, 0,<br>255);">true</span>; </div><br style="font-family: Consolas, &quot;Courier New&quot;, monospace; white-space: pre;"><div style="font-family: Consolas, &quot;Courier New&quot;,<br>monospace; white-space: pre;">&nbsp; &nbsp; &nbsp; &nbsp; } </div><div style="font-family: Consolas, &quot;Courier New&quot;, monospace;<br>white-space: pre;">Then above if statement calls for flipcoin. And then broadcasts it to<br>the console of the cilents. </div><div><div style="font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 19px;<br>white-space: pre;"><div>&nbsp;<span style="color: #0000ff;">private</span> <span style="color: #0000ff;">boolean</span> flipcoin()</div><div>&nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; &nbsp;<br><span style="color: #0000ff;">Random</span> Flip = <span style="color: #0000ff;">new</span> Random();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &lt;span<br>style=&quot;color: #0000ff;&quot;&gt;return</span> Flip.nextBoolean();</div><div>&nbsp; &nbsp; }</div></div></div></div><br></p><br></td></tr>
<tr><td> <em>Sub-Task 2: </em> Add screenshot(s) showing the implemented feature working</td></tr>
<tr><td><table><tr><td><img width="768px" src="https://user-images.githubusercontent.com/106360996/174461750-3feceda1-f471-407d-8590-e5ce4f884ffb.png"/></td></tr>
<tr><td> <em>Caption:</em> <p>cointoss feature<br></p>
</td></tr>
</table></td></tr>
</table></td></tr>
<table><tr><td> <em>Deliverable 4: </em> Misc </td></tr><tr><td><em>Status: </em> <img width="100" height="20" src="http://via.placeholder.com/400x120/009955/fff?text=Complete"></td></tr>
<tr><td><table><tr><td> <em>Sub-Task 1: </em> Did you have an issues and how did you resolve them? If no issues, what did you learn during this assignment that you found interesting?</td></tr>
<tr><td> <em>Response:</em> <p>I had several issues with implementing other features like the random generate arithmetic<br>functions.<div>However I began to realize that some of the other features might be<br>easier to implement. In the case of shuffle,</div><div>I was stuck on how to<br>broadcast the correct form of message depending on whether the client typed</div><div>shuffle or<br>not and when they would exit out of shuffle mode. One of the<br>ways I was able to handle this was</div><div>using a global boolean value that<br>was set to false, and changed when shuffled was typed to true. Then<br>in the broadcast the message was typed depending on it it was shuffled<br>using ternary operators.&nbsp;</div><br></p><br></td></tr>
<tr><td> <em>Sub-Task 2: </em> Pull request link</td></tr>
<tr><td> <a rel="noreferrer noopener" target="_blank" href="https://github.com/fahadali323/IT114-450/pull/9">https://github.com/fahadali323/IT114-450/pull/9</a> </td></tr>
</table></td></tr>
<table><tr><td><em>Grading Link: </em><a rel="noreferrer noopener" href="https://learn.ethereallab.app/homework/IT114-450-M22/it114-sockets-part-1-3/grade/fa376" target="_blank">Grading</a></td></tr></table>